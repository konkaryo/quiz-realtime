Redémarrer le serveur Visual Studio
-> CTRL + SHIFT + P
-> TypeScript: Restart TS server

Appliquer les modifications de schéma de base de données
-> npx prisma format
-> npx prisma migrate dev --create-only --name [nom_de_la_migration]
-> npx prisma generate

Réinitialiser la base de données
-> npx prisma migrate reset

Démarrer le serveur
-> npm run dev

Taille de la base de données
-> SELECT pg_size_pretty(pg_database_size(current_database())) AS db_size;

Relancer la seed
-> npx prisma db seed

Connexion au serveur Ubuntu
-> ssh root@49.13.120.63

PostgreSQL en production
-> USER: quizuser
-> PASSWORD: 05g6uFV>B#~t&t{5
-> DB: quizdb
-> DATABASE_URL="postgresql://quizuser:05g6uFV>B#~t&t{5@localhost:5432/quizdb?schema=public"
-> ssh key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAINW208ZcOqRqWUldALQfBlOxSC3j/nJxDMoivU1di3yo hetzner-quiz-server

PostgreSQL en dev
-> USER: dev
-> PASSWORD: dev
-> DB: quiz

PostgreSQL en prod
-> (local) ssh -N -L 5555:127.0.0.1:5555 root@49.13.120.63
-> (serveur) cd /var/www/quiz-realtime/server
-> (serveur) npx prisma studio --port 5555 --hostname 127.0.0.1 --browser none
-> (local) http://localhost:5555

Commandes Git
-> Ajouter tous les fichiers: git add .
-> Faire le commit: git commit -m "Message"
-> Envoyer vers dépôt distant: git push origin main
-> Déplacement vers répertoire serveur: cd /var/www/quiz-realtime
-> Copier le répertoire: git pull

Hetzner
-> konkaryo@hotmail.fr
-> Clipor29900!

Domaine
-> konkaryo
-> d8F82DQN
-> synapz.online
-> 49.13.120.63


Reset de la prod
-> cd /var/www/quiz-realtime
-> git pull
-> cd server
-> npm ci
-> npx prisma generate
-> npx prisma migrate deploy
-> npm run build
-> pm2 restart quiz-server --update-env
-> pm2 save
-> cd ../web
-> npm ci
-> npm run build
-> sudo caddy reload --config /etc/caddy/Caddyfile
-> curl -i https://synapz.online/health
-> curl -I "https://synapz.online/socket.io/?EIO=4&transport=polling"

Créer un user
-> curl -i -H "Content-Type: application/json" -d "{\"email\":\"test@example.com\",\"password\":\"secret123\",\"displayName\":\"Test\"}" http://127.0.0.1:3001/auth/register



git remote add origin git@github.com:konkaryo/quiz-realtime.git
PORT=3000
CLIENT_URL=http://localhost:5173
DATABASE_URL=postgresql://quizuser:05g6uFV%3EB%23~t%26t%7B5@localhost:5432/quizdb?schema=public
node -p "encodeURIComponent('05g6uFV>B#~t&t{5')"
